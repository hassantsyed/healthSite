{% extends "teams/index.html"%}
{%block header%}
    Your Weight Tracker ({{peeps.count}})
{%endblock%}
{%block content%}
<button class="btn btn-primary btn-danger" id="addition">Add weight</button>
<input type="number" id="inAdd">

<canvas id="myChart" width="600" height="200"></canvas>

{%endblock%}
{%block javascript%}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<script>
var canvas = document.getElementById('myChart');
var data = {
    labels: [2000, 2001, 2002, 2003, 2004, 2005, 2006],
    datasets: [
        {
            label: "Weight",
            backgroundColor: "rgba(255,99,132,0.2)",
            borderColor: "rgba(255,99,132,1)",
            borderWidth: 2,
            hoverBackgroundColor: "rgba(255,99,132,0.4)",
            hoverBorderColor: "rgba(255,99,132,1)",
            data: [65, 59, 20, 81, 56, 55, 40],
        }
    ]
};
var option = {
	scales: {
  	yAxes:[{
    		stacked:true,
        gridLines: {
        	display:true,
          color:"rgba(255,99,132,0.2)"
        }
    }],
    xAxes:[{
    		gridLines: {
        	display:false
        }
    }]
  }
};

var myLineChart = Chart.Line(canvas,{
	data:data,
  options:option
});

var button = document.getElementById("addition");
button.addEventListener("click", function(){
  var dataArray = myLineChart.data.datasets[0].data
  var index = dataArray.length;
  var weight = document.getElementById("inAdd").value
  if(weight == ""){
    return;
  }
  dataArray[index] = weight;
  myLineChart.data.labels[index] = "junily";
  myLineChart.update();
  makeModel();
});
function makeModel(){
  alert("This is a test");
}

</script>
{%endblock%}
